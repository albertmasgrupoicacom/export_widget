{"version":3,"sources":["index.js"],"names":["exports","__esModule","_symbol","require","_symbol2","_interopRequireDefault","default","_ref","t","types","IGNORE","visitor","Scope","_ref2","scope","getBinding","rename","UnaryExpression","path","node","parent","find","_generated","parentPath","isBinaryExpression","EQUALITY_BINARY_OPERATORS","indexOf","operator","opposite","getOpposite","isLiteral","value","call","callExpression","addHelper","argument","get","isIdentifier","undefLiteral","stringLiteral","unary","unaryExpression","replaceWith","conditionalExpression","binaryExpression","obj","module"],"mappings":"AAAA;;;;;;AAEAA,YAAQC,UAAR,GAAqB,IAArB;;AAEA,QAAIC,UAAUC,QAAQ,sCAAR,CAAd;;AAEA,QAAIC,WAAWC,uBAAuBH,OAAvB,CAAf;;AAEAF,YAAQM,OAAR,GAAkB,UAAUC,IAAV,EAAgB;AAChC,UAAIC,IAAID,KAAKE,KAAb;;AAEA,UAAIC,SAAS,CAAC,GAAGN,SAASE,OAAb,GAAb;;AAEA,aAAO;AACLK,iBAAS;AACPC,iBAAO,SAASA,KAAT,CAAeC,KAAf,EAAsB;AAC3B,gBAAIC,QAAQD,MAAMC,KAAlB;;AAEA,gBAAI,CAACA,MAAMC,UAAN,CAAiB,QAAjB,CAAL,EAAiC;AAC/B;AACD;;AAEDD,kBAAME,MAAN,CAAa,QAAb;AACD,WATM;AAUPC,2BAAiB,SAASA,eAAT,CAAyBC,IAAzB,EAA+B;AAC9C,gBAAIC,OAAOD,KAAKC,IAAhB;AAAA,gBACIC,SAASF,KAAKE,MADlB;;AAGA,gBAAID,KAAKT,MAAL,CAAJ,EAAkB;AAClB,gBAAIQ,KAAKG,IAAL,CAAU,UAAUH,IAAV,EAAgB;AAC5B,qBAAOA,KAAKC,IAAL,IAAa,CAAC,CAACD,KAAKC,IAAL,CAAUG,UAAhC;AACD,aAFG,CAAJ,EAEI;;AAEJ,gBAAIJ,KAAKK,UAAL,CAAgBC,kBAAhB,MAAwChB,EAAEiB,yBAAF,CAA4BC,OAA5B,CAAoCN,OAAOO,QAA3C,KAAwD,CAApG,EAAuG;AACrG,kBAAIC,WAAWV,KAAKW,WAAL,EAAf;AACA,kBAAID,SAASE,SAAT,MAAwBF,SAAST,IAAT,CAAcY,KAAd,KAAwB,QAAhD,IAA4DH,SAAST,IAAT,CAAcY,KAAd,KAAwB,QAAxF,EAAkG;AAChG;AACD;AACF;;AAED,gBAAIZ,KAAKQ,QAAL,KAAkB,QAAtB,EAAgC;AAC9B,kBAAIK,OAAOxB,EAAEyB,cAAF,CAAiB,KAAKC,SAAL,CAAe,QAAf,CAAjB,EAA2C,CAACf,KAAKgB,QAAN,CAA3C,CAAX;AACA,kBAAIjB,KAAKkB,GAAL,CAAS,UAAT,EAAqBC,YAArB,EAAJ,EAAyC;AACvC,oBAAIC,eAAe9B,EAAE+B,aAAF,CAAgB,WAAhB,CAAnB;AACA,oBAAIC,QAAQhC,EAAEiC,eAAF,CAAkB,QAAlB,EAA4BtB,KAAKgB,QAAjC,CAAZ;AACAK,sBAAM9B,MAAN,IAAgB,IAAhB;AACAQ,qBAAKwB,WAAL,CAAiBlC,EAAEmC,qBAAF,CAAwBnC,EAAEoC,gBAAF,CAAmB,KAAnB,EAA0BJ,KAA1B,EAAiCF,YAAjC,CAAxB,EAAwEA,YAAxE,EAAsFN,IAAtF,CAAjB;AACD,eALD,MAKO;AACLd,qBAAKwB,WAAL,CAAiBV,IAAjB;AACD;AACF;AACF;AArCM;AADJ,OAAP;AAyCD,KA9CD;;AAgDA,aAAS3B,sBAAT,CAAgCwC,GAAhC,EAAqC;AAAE,aAAOA,OAAOA,IAAI5C,UAAX,GAAwB4C,GAAxB,GAA8B,EAAEvC,SAASuC,GAAX,EAArC;AAAwD;;AAE/FC,WAAO9C,OAAP,GAAiBA,QAAQ,SAAR,CAAjB","file":"index.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _symbol = require(\"babel-runtime/core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nexports.default = function (_ref) {\n  var t = _ref.types;\n\n  var IGNORE = (0, _symbol2.default)();\n\n  return {\n    visitor: {\n      Scope: function Scope(_ref2) {\n        var scope = _ref2.scope;\n\n        if (!scope.getBinding(\"Symbol\")) {\n          return;\n        }\n\n        scope.rename(\"Symbol\");\n      },\n      UnaryExpression: function UnaryExpression(path) {\n        var node = path.node,\n            parent = path.parent;\n\n        if (node[IGNORE]) return;\n        if (path.find(function (path) {\n          return path.node && !!path.node._generated;\n        })) return;\n\n        if (path.parentPath.isBinaryExpression() && t.EQUALITY_BINARY_OPERATORS.indexOf(parent.operator) >= 0) {\n          var opposite = path.getOpposite();\n          if (opposite.isLiteral() && opposite.node.value !== \"symbol\" && opposite.node.value !== \"object\") {\n            return;\n          }\n        }\n\n        if (node.operator === \"typeof\") {\n          var call = t.callExpression(this.addHelper(\"typeof\"), [node.argument]);\n          if (path.get(\"argument\").isIdentifier()) {\n            var undefLiteral = t.stringLiteral(\"undefined\");\n            var unary = t.unaryExpression(\"typeof\", node.argument);\n            unary[IGNORE] = true;\n            path.replaceWith(t.conditionalExpression(t.binaryExpression(\"===\", unary, undefLiteral), undefLiteral, call));\n          } else {\n            path.replaceWith(call);\n          }\n        }\n      }\n    }\n  };\n};\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports[\"default\"];"]}