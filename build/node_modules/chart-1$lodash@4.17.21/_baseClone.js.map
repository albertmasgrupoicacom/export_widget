{"version":3,"sources":["_baseClone.js"],"names":["Stack","require","arrayEach","assignValue","baseAssign","baseAssignIn","cloneBuffer","copyArray","copySymbols","copySymbolsIn","getAllKeys","getAllKeysIn","getTag","initCloneArray","initCloneByTag","initCloneObject","isArray","isBuffer","isMap","isObject","isSet","keys","keysIn","CLONE_DEEP_FLAG","CLONE_FLAT_FLAG","CLONE_SYMBOLS_FLAG","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","cloneableTags","baseClone","value","bitmask","customizer","key","object","stack","result","isDeep","isFlat","undefined","isArr","tag","isFunc","stacked","get","set","forEach","subValue","add","keysFunc","props","module","exports"],"mappings":"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","file":"_baseClone.js","sourcesContent":["var Stack = require('./_Stack'),\n    arrayEach = require('./_arrayEach'),\n    assignValue = require('./_assignValue'),\n    baseAssign = require('./_baseAssign'),\n    baseAssignIn = require('./_baseAssignIn'),\n    cloneBuffer = require('./_cloneBuffer'),\n    copyArray = require('./_copyArray'),\n    copySymbols = require('./_copySymbols'),\n    copySymbolsIn = require('./_copySymbolsIn'),\n    getAllKeys = require('./_getAllKeys'),\n    getAllKeysIn = require('./_getAllKeysIn'),\n    getTag = require('./_getTag'),\n    initCloneArray = require('./_initCloneArray'),\n    initCloneByTag = require('./_initCloneByTag'),\n    initCloneObject = require('./_initCloneObject'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isMap = require('./isMap'),\n    isObject = require('./isObject'),\n    isSet = require('./isSet'),\n    keys = require('./keys'),\n    keysIn = require('./keysIn');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nmodule.exports = baseClone;\n"]}