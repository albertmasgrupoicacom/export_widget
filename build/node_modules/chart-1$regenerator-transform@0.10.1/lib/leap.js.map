{"version":3,"sources":["leap.js"],"names":["_assert","require","_assert2","_interopRequireDefault","_babelTypes","t","_interopRequireWildcard","_util","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","call","default","Entry","ok","FunctionEntry","returnLoc","assertLiteral","inherits","exports","LoopEntry","breakLoc","continueLoc","label","assertIdentifier","SwitchEntry","TryEntry","firstLoc","catchEntry","finallyEntry","CatchEntry","FinallyEntry","paramId","afterLoc","LabeledEntry","LeapManager","emitter","Emitter","entryStack","finalLoc","LMp","withEntry","entry","callback","push","popped","pop","strictEqual","_findLeapLocation","property","i","length","loc","name","getBreakLoc","getContinueLoc"],"mappings":"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","file":"leap.js","sourcesContent":["\"use strict\";\n\nvar _assert = require(\"assert\");\n\nvar _assert2 = _interopRequireDefault(_assert);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\nvar _util = require(\"util\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction Entry() {\n  _assert2.default.ok(this instanceof Entry);\n} /**\n   * Copyright (c) 2014, Facebook, Inc.\n   * All rights reserved.\n   *\n   * This source code is licensed under the BSD-style license found in the\n   * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n   * additional grant of patent rights can be found in the PATENTS file in\n   * the same directory.\n   */\n\nfunction FunctionEntry(returnLoc) {\n  Entry.call(this);\n  t.assertLiteral(returnLoc);\n  this.returnLoc = returnLoc;\n}\n\n(0, _util.inherits)(FunctionEntry, Entry);\nexports.FunctionEntry = FunctionEntry;\n\nfunction LoopEntry(breakLoc, continueLoc, label) {\n  Entry.call(this);\n\n  t.assertLiteral(breakLoc);\n  t.assertLiteral(continueLoc);\n\n  if (label) {\n    t.assertIdentifier(label);\n  } else {\n    label = null;\n  }\n\n  this.breakLoc = breakLoc;\n  this.continueLoc = continueLoc;\n  this.label = label;\n}\n\n(0, _util.inherits)(LoopEntry, Entry);\nexports.LoopEntry = LoopEntry;\n\nfunction SwitchEntry(breakLoc) {\n  Entry.call(this);\n  t.assertLiteral(breakLoc);\n  this.breakLoc = breakLoc;\n}\n\n(0, _util.inherits)(SwitchEntry, Entry);\nexports.SwitchEntry = SwitchEntry;\n\nfunction TryEntry(firstLoc, catchEntry, finallyEntry) {\n  Entry.call(this);\n\n  t.assertLiteral(firstLoc);\n\n  if (catchEntry) {\n    _assert2.default.ok(catchEntry instanceof CatchEntry);\n  } else {\n    catchEntry = null;\n  }\n\n  if (finallyEntry) {\n    _assert2.default.ok(finallyEntry instanceof FinallyEntry);\n  } else {\n    finallyEntry = null;\n  }\n\n  // Have to have one or the other (or both).\n  _assert2.default.ok(catchEntry || finallyEntry);\n\n  this.firstLoc = firstLoc;\n  this.catchEntry = catchEntry;\n  this.finallyEntry = finallyEntry;\n}\n\n(0, _util.inherits)(TryEntry, Entry);\nexports.TryEntry = TryEntry;\n\nfunction CatchEntry(firstLoc, paramId) {\n  Entry.call(this);\n\n  t.assertLiteral(firstLoc);\n  t.assertIdentifier(paramId);\n\n  this.firstLoc = firstLoc;\n  this.paramId = paramId;\n}\n\n(0, _util.inherits)(CatchEntry, Entry);\nexports.CatchEntry = CatchEntry;\n\nfunction FinallyEntry(firstLoc, afterLoc) {\n  Entry.call(this);\n  t.assertLiteral(firstLoc);\n  t.assertLiteral(afterLoc);\n  this.firstLoc = firstLoc;\n  this.afterLoc = afterLoc;\n}\n\n(0, _util.inherits)(FinallyEntry, Entry);\nexports.FinallyEntry = FinallyEntry;\n\nfunction LabeledEntry(breakLoc, label) {\n  Entry.call(this);\n\n  t.assertLiteral(breakLoc);\n  t.assertIdentifier(label);\n\n  this.breakLoc = breakLoc;\n  this.label = label;\n}\n\n(0, _util.inherits)(LabeledEntry, Entry);\nexports.LabeledEntry = LabeledEntry;\n\nfunction LeapManager(emitter) {\n  _assert2.default.ok(this instanceof LeapManager);\n\n  var Emitter = require(\"./emit\").Emitter;\n  _assert2.default.ok(emitter instanceof Emitter);\n\n  this.emitter = emitter;\n  this.entryStack = [new FunctionEntry(emitter.finalLoc)];\n}\n\nvar LMp = LeapManager.prototype;\nexports.LeapManager = LeapManager;\n\nLMp.withEntry = function (entry, callback) {\n  _assert2.default.ok(entry instanceof Entry);\n  this.entryStack.push(entry);\n  try {\n    callback.call(this.emitter);\n  } finally {\n    var popped = this.entryStack.pop();\n    _assert2.default.strictEqual(popped, entry);\n  }\n};\n\nLMp._findLeapLocation = function (property, label) {\n  for (var i = this.entryStack.length - 1; i >= 0; --i) {\n    var entry = this.entryStack[i];\n    var loc = entry[property];\n    if (loc) {\n      if (label) {\n        if (entry.label && entry.label.name === label.name) {\n          return loc;\n        }\n      } else if (entry instanceof LabeledEntry) {\n        // Ignore LabeledEntry entries unless we are actually breaking to\n        // a label.\n      } else {\n        return loc;\n      }\n    }\n  }\n\n  return null;\n};\n\nLMp.getBreakLoc = function (label) {\n  return this._findLeapLocation(\"breakLoc\", label);\n};\n\nLMp.getContinueLoc = function (label) {\n  return this._findLeapLocation(\"continueLoc\", label);\n};"]}