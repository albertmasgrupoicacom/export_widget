{"version":3,"sources":["index.js"],"names":["exports","__esModule","_getIterator2","require","_getIterator3","_interopRequireDefault","_symbol","_symbol2","default","_ref","t","types","Property","path","node","scope","getObjectRef","file","replaceSupers","_babelHelperReplaceSupers2","methodNode","methodPath","isStatic","replace","CONTAINS_SUPER","visitor","Super","parentObj","findParent","isObjectExpression","ObjectExpression","exit","objectRef","generateUidIdentifier","propPaths","get","_iterator","_isArray","Array","isArray","_i","_ref2","length","next","done","value","propPath","isObjectProperty","push","id","replaceWith","assignmentExpression","_babelHelperReplaceSupers","obj","module"],"mappings":"AAAA;;;;;;AAEAA,YAAQC,UAAR,GAAqB,IAArB;;AAEA,QAAIC,gBAAgBC,QAAQ,4CAAR,CAApB;;AAEA,QAAIC,gBAAgBC,uBAAuBH,aAAvB,CAApB;;AAEA,QAAII,UAAUH,QAAQ,sCAAR,CAAd;;AAEA,QAAII,WAAWF,uBAAuBC,OAAvB,CAAf;;AAEAN,YAAQQ,OAAR,GAAkB,UAAUC,IAAV,EAAgB;AAChC,UAAIC,IAAID,KAAKE,KAAb;;AAEA,eAASC,QAAT,CAAkBC,IAAlB,EAAwBC,IAAxB,EAA8BC,KAA9B,EAAqCC,YAArC,EAAmDC,IAAnD,EAAyD;AACvD,YAAIC,gBAAgB,IAAIC,2BAA2BX,OAA/B,CAAuC;AACzDQ,wBAAcA,YAD2C;AAEzDI,sBAAYN,IAF6C;AAGzDO,sBAAYR,IAH6C;AAIzDS,oBAAU,IAJ+C;AAKzDP,iBAAOA,KALkD;AAMzDE,gBAAMA;AANmD,SAAvC,CAApB;;AASAC,sBAAcK,OAAd;AACD;;AAED,UAAIC,iBAAiB,CAAC,GAAGjB,SAASC,OAAb,GAArB;;AAEA,aAAO;AACLiB,iBAAS;AACPC,iBAAO,SAASA,KAAT,CAAeb,IAAf,EAAqB;AAC1B,gBAAIc,YAAYd,KAAKe,UAAL,CAAgB,UAAUf,IAAV,EAAgB;AAC9C,qBAAOA,KAAKgB,kBAAL,EAAP;AACD,aAFe,CAAhB;AAGA,gBAAIF,SAAJ,EAAeA,UAAUb,IAAV,CAAeU,cAAf,IAAiC,IAAjC;AAChB,WANM;;AASPM,4BAAkB;AAChBC,kBAAM,SAASA,IAAT,CAAclB,IAAd,EAAoBI,IAApB,EAA0B;AAC9B,kBAAI,CAACJ,KAAKC,IAAL,CAAUU,cAAV,CAAL,EAAgC;;AAEhC,kBAAIQ,YAAY,KAAK,CAArB;AACA,kBAAIhB,eAAe,SAASA,YAAT,GAAwB;AACzC,uBAAOgB,YAAYA,aAAanB,KAAKE,KAAL,CAAWkB,qBAAX,CAAiC,KAAjC,CAAhC;AACD,eAFD;;AAIA,kBAAIC,YAAYrB,KAAKsB,GAAL,CAAS,YAAT,CAAhB;AACA,mBAAK,IAAIC,YAAYF,SAAhB,EAA2BG,WAAWC,MAAMC,OAAN,CAAcH,SAAd,CAAtC,EAAgEI,KAAK,CAArE,EAAwEJ,YAAYC,WAAWD,SAAX,GAAuB,CAAC,GAAGhC,cAAcI,OAAlB,EAA2B4B,SAA3B,CAAhH,IAAyJ;AACvJ,oBAAIK,KAAJ;;AAEA,oBAAIJ,QAAJ,EAAc;AACZ,sBAAIG,MAAMJ,UAAUM,MAApB,EAA4B;AAC5BD,0BAAQL,UAAUI,IAAV,CAAR;AACD,iBAHD,MAGO;AACLA,uBAAKJ,UAAUO,IAAV,EAAL;AACA,sBAAIH,GAAGI,IAAP,EAAa;AACbH,0BAAQD,GAAGK,KAAX;AACD;;AAED,oBAAIC,WAAWL,KAAf;;AAEA,oBAAIK,SAASC,gBAAT,EAAJ,EAAiCD,WAAWA,SAASX,GAAT,CAAa,OAAb,CAAX;AACjCvB,yBAASkC,QAAT,EAAmBA,SAAShC,IAA5B,EAAkCD,KAAKE,KAAvC,EAA8CC,YAA9C,EAA4DC,IAA5D;AACD;;AAED,kBAAIe,SAAJ,EAAe;AACbnB,qBAAKE,KAAL,CAAWiC,IAAX,CAAgB,EAAEC,IAAIjB,SAAN,EAAhB;AACAnB,qBAAKqC,WAAL,CAAiBxC,EAAEyC,oBAAF,CAAuB,GAAvB,EAA4BnB,SAA5B,EAAuCnB,KAAKC,IAA5C,CAAjB;AACD;AACF;AAhCe;AATX;AADJ,OAAP;AA8CD,KAhED;;AAkEA,QAAIsC,4BAA4BjD,QAAQ,qCAAR,CAAhC;;AAEA,QAAIgB,6BAA6Bd,uBAAuB+C,yBAAvB,CAAjC;;AAEA,aAAS/C,sBAAT,CAAgCgD,GAAhC,EAAqC;AAAE,aAAOA,OAAOA,IAAIpD,UAAX,GAAwBoD,GAAxB,GAA8B,EAAE7C,SAAS6C,GAAX,EAArC;AAAwD;;AAE/FC,WAAOtD,OAAP,GAAiBA,QAAQ,SAAR,CAAjB","file":"index.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _symbol = require(\"babel-runtime/core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nexports.default = function (_ref) {\n  var t = _ref.types;\n\n  function Property(path, node, scope, getObjectRef, file) {\n    var replaceSupers = new _babelHelperReplaceSupers2.default({\n      getObjectRef: getObjectRef,\n      methodNode: node,\n      methodPath: path,\n      isStatic: true,\n      scope: scope,\n      file: file\n    });\n\n    replaceSupers.replace();\n  }\n\n  var CONTAINS_SUPER = (0, _symbol2.default)();\n\n  return {\n    visitor: {\n      Super: function Super(path) {\n        var parentObj = path.findParent(function (path) {\n          return path.isObjectExpression();\n        });\n        if (parentObj) parentObj.node[CONTAINS_SUPER] = true;\n      },\n\n\n      ObjectExpression: {\n        exit: function exit(path, file) {\n          if (!path.node[CONTAINS_SUPER]) return;\n\n          var objectRef = void 0;\n          var getObjectRef = function getObjectRef() {\n            return objectRef = objectRef || path.scope.generateUidIdentifier(\"obj\");\n          };\n\n          var propPaths = path.get(\"properties\");\n          for (var _iterator = propPaths, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : (0, _getIterator3.default)(_iterator);;) {\n            var _ref2;\n\n            if (_isArray) {\n              if (_i >= _iterator.length) break;\n              _ref2 = _iterator[_i++];\n            } else {\n              _i = _iterator.next();\n              if (_i.done) break;\n              _ref2 = _i.value;\n            }\n\n            var propPath = _ref2;\n\n            if (propPath.isObjectProperty()) propPath = propPath.get(\"value\");\n            Property(propPath, propPath.node, path.scope, getObjectRef, file);\n          }\n\n          if (objectRef) {\n            path.scope.push({ id: objectRef });\n            path.replaceWith(t.assignmentExpression(\"=\", objectRef, path.node));\n          }\n        }\n      }\n    }\n  };\n};\n\nvar _babelHelperReplaceSupers = require(\"babel-helper-replace-supers\");\n\nvar _babelHelperReplaceSupers2 = _interopRequireDefault(_babelHelperReplaceSupers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports[\"default\"];"]}