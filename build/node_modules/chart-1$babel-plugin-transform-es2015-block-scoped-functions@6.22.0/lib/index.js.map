{"version":3,"sources":["index.js"],"names":["exports","__esModule","_getIterator2","require","_getIterator3","_interopRequireDefault","default","_ref","t","types","statementList","key","path","paths","get","_iterator","_isArray","Array","isArray","_i","_ref2","length","next","done","value","_path","func","node","isFunctionDeclaration","declar","variableDeclaration","variableDeclarator","id","toExpression","_blockHoist","replaceWith","visitor","BlockStatement","parent","isFunction","body","isExportDeclaration","SwitchCase","obj","module"],"mappings":"AAAA;;;;;;AAEAA,YAAQC,UAAR,GAAqB,IAArB;;AAEA,QAAIC,gBAAgBC,QAAQ,4CAAR,CAApB;;AAEA,QAAIC,gBAAgBC,uBAAuBH,aAAvB,CAApB;;AAEAF,YAAQM,OAAR,GAAkB,UAAUC,IAAV,EAAgB;AAChC,UAAIC,IAAID,KAAKE,KAAb;;AAEA,eAASC,aAAT,CAAuBC,GAAvB,EAA4BC,IAA5B,EAAkC;AAChC,YAAIC,QAAQD,KAAKE,GAAL,CAASH,GAAT,CAAZ;;AAEA,aAAK,IAAII,YAAYF,KAAhB,EAAuBG,WAAWC,MAAMC,OAAN,CAAcH,SAAd,CAAlC,EAA4DI,KAAK,CAAjE,EAAoEJ,YAAYC,WAAWD,SAAX,GAAuB,CAAC,GAAGX,cAAcE,OAAlB,EAA2BS,SAA3B,CAA5G,IAAqJ;AACnJ,cAAIK,KAAJ;;AAEA,cAAIJ,QAAJ,EAAc;AACZ,gBAAIG,MAAMJ,UAAUM,MAApB,EAA4B;AAC5BD,oBAAQL,UAAUI,IAAV,CAAR;AACD,WAHD,MAGO;AACLA,iBAAKJ,UAAUO,IAAV,EAAL;AACA,gBAAIH,GAAGI,IAAP,EAAa;AACbH,oBAAQD,GAAGK,KAAX;AACD;;AAED,cAAIC,QAAQL,KAAZ;;AAEA,cAAIM,OAAOD,MAAME,IAAjB;AACA,cAAI,CAACF,MAAMG,qBAAN,EAAL,EAAoC;;AAEpC,cAAIC,SAASrB,EAAEsB,mBAAF,CAAsB,KAAtB,EAA6B,CAACtB,EAAEuB,kBAAF,CAAqBL,KAAKM,EAA1B,EAA8BxB,EAAEyB,YAAF,CAAeP,IAAf,CAA9B,CAAD,CAA7B,CAAb;;AAEAG,iBAAOK,WAAP,GAAqB,CAArB;;AAEAR,eAAKM,EAAL,GAAU,IAAV;;AAEAP,gBAAMU,WAAN,CAAkBN,MAAlB;AACD;AACF;;AAED,aAAO;AACLO,iBAAS;AACPC,0BAAgB,SAASA,cAAT,CAAwBzB,IAAxB,EAA8B;AAC5C,gBAAIe,OAAOf,KAAKe,IAAhB;AAAA,gBACIW,SAAS1B,KAAK0B,MADlB;;AAGA,gBAAI9B,EAAE+B,UAAF,CAAaD,MAAb,EAAqB,EAAEE,MAAMb,IAAR,EAArB,KAAwCnB,EAAEiC,mBAAF,CAAsBH,MAAtB,CAA5C,EAA2E;AACzE;AACD;;AAED5B,0BAAc,MAAd,EAAsBE,IAAtB;AACD,WAVM;AAWP8B,sBAAY,SAASA,UAAT,CAAoB9B,IAApB,EAA0B;AACpCF,0BAAc,YAAd,EAA4BE,IAA5B;AACD;AAbM;AADJ,OAAP;AAiBD,KAlDD;;AAoDA,aAASP,sBAAT,CAAgCsC,GAAhC,EAAqC;AAAE,aAAOA,OAAOA,IAAI1C,UAAX,GAAwB0C,GAAxB,GAA8B,EAAErC,SAASqC,GAAX,EAArC;AAAwD;;AAE/FC,WAAO5C,OAAP,GAAiBA,QAAQ,SAAR,CAAjB","file":"index.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nexports.default = function (_ref) {\n  var t = _ref.types;\n\n  function statementList(key, path) {\n    var paths = path.get(key);\n\n    for (var _iterator = paths, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : (0, _getIterator3.default)(_iterator);;) {\n      var _ref2;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref2 = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref2 = _i.value;\n      }\n\n      var _path = _ref2;\n\n      var func = _path.node;\n      if (!_path.isFunctionDeclaration()) continue;\n\n      var declar = t.variableDeclaration(\"let\", [t.variableDeclarator(func.id, t.toExpression(func))]);\n\n      declar._blockHoist = 2;\n\n      func.id = null;\n\n      _path.replaceWith(declar);\n    }\n  }\n\n  return {\n    visitor: {\n      BlockStatement: function BlockStatement(path) {\n        var node = path.node,\n            parent = path.parent;\n\n        if (t.isFunction(parent, { body: node }) || t.isExportDeclaration(parent)) {\n          return;\n        }\n\n        statementList(\"body\", path);\n      },\n      SwitchCase: function SwitchCase(path) {\n        statementList(\"consequent\", path);\n      }\n    }\n  };\n};\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports[\"default\"];"]}