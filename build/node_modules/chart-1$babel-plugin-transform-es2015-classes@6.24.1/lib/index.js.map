{"version":3,"sources":["index.js"],"names":["exports","__esModule","_symbol","require","_symbol2","_interopRequireDefault","default","_ref","t","types","VISITED","visitor","ExportDefaultDeclaration","path","get","isClassDeclaration","node","ref","declaration","id","scope","generateUidIdentifier","replaceWith","insertAfter","exportDefaultDeclaration","ClassDeclaration","variableDeclaration","variableDeclarator","toExpression","ClassExpression","state","inferred","_babelHelperFunctionName2","Constructor","_vanilla2","opts","loose","_loose2","file","run","_loose","_vanilla","_babelHelperFunctionName","obj","module"],"mappings":"AAAA;;;;;;AAEAA,YAAQC,UAAR,GAAqB,IAArB;;AAEA,QAAIC,UAAUC,QAAQ,sCAAR,CAAd;;AAEA,QAAIC,WAAWC,uBAAuBH,OAAvB,CAAf;;AAEAF,YAAQM,OAAR,GAAkB,UAAUC,IAAV,EAAgB;AAChC,UAAIC,IAAID,KAAKE,KAAb;;AAEA,UAAIC,UAAU,CAAC,GAAGN,SAASE,OAAb,GAAd;;AAEA,aAAO;AACLK,iBAAS;AACPC,oCAA0B,SAASA,wBAAT,CAAkCC,IAAlC,EAAwC;AAChE,gBAAI,CAACA,KAAKC,GAAL,CAAS,aAAT,EAAwBC,kBAAxB,EAAL,EAAmD;;AAEnD,gBAAIC,OAAOH,KAAKG,IAAhB;;AAEA,gBAAIC,MAAMD,KAAKE,WAAL,CAAiBC,EAAjB,IAAuBN,KAAKO,KAAL,CAAWC,qBAAX,CAAiC,OAAjC,CAAjC;AACAL,iBAAKE,WAAL,CAAiBC,EAAjB,GAAsBF,GAAtB;;AAEAJ,iBAAKS,WAAL,CAAiBN,KAAKE,WAAtB;AACAL,iBAAKU,WAAL,CAAiBf,EAAEgB,wBAAF,CAA2BP,GAA3B,CAAjB;AACD,WAXM;AAYPQ,4BAAkB,SAASA,gBAAT,CAA0BZ,IAA1B,EAAgC;AAChD,gBAAIG,OAAOH,KAAKG,IAAhB;;AAGA,gBAAIC,MAAMD,KAAKG,EAAL,IAAWN,KAAKO,KAAL,CAAWC,qBAAX,CAAiC,OAAjC,CAArB;;AAEAR,iBAAKS,WAAL,CAAiBd,EAAEkB,mBAAF,CAAsB,KAAtB,EAA6B,CAAClB,EAAEmB,kBAAF,CAAqBV,GAArB,EAA0BT,EAAEoB,YAAF,CAAeZ,IAAf,CAA1B,CAAD,CAA7B,CAAjB;AACD,WAnBM;AAoBPa,2BAAiB,SAASA,eAAT,CAAyBhB,IAAzB,EAA+BiB,KAA/B,EAAsC;AACrD,gBAAId,OAAOH,KAAKG,IAAhB;;AAEA,gBAAIA,KAAKN,OAAL,CAAJ,EAAmB;;AAEnB,gBAAIqB,WAAW,CAAC,GAAGC,0BAA0B1B,OAA9B,EAAuCO,IAAvC,CAAf;AACA,gBAAIkB,YAAYA,aAAaf,IAA7B,EAAmC,OAAOH,KAAKS,WAAL,CAAiBS,QAAjB,CAAP;;AAEnCf,iBAAKN,OAAL,IAAgB,IAAhB;;AAEA,gBAAIuB,cAAcC,UAAU5B,OAA5B;AACA,gBAAIwB,MAAMK,IAAN,CAAWC,KAAf,EAAsBH,cAAcI,QAAQ/B,OAAtB;;AAEtBO,iBAAKS,WAAL,CAAiB,IAAIW,WAAJ,CAAgBpB,IAAhB,EAAsBiB,MAAMQ,IAA5B,EAAkCC,GAAlC,EAAjB;AACD;AAlCM;AADJ,OAAP;AAsCD,KA3CD;;AA6CA,QAAIC,SAASrC,QAAQ,SAAR,CAAb;;AAEA,QAAIkC,UAAUhC,uBAAuBmC,MAAvB,CAAd;;AAEA,QAAIC,WAAWtC,QAAQ,WAAR,CAAf;;AAEA,QAAI+B,YAAY7B,uBAAuBoC,QAAvB,CAAhB;;AAEA,QAAIC,2BAA2BvC,QAAQ,oCAAR,CAA/B;;AAEA,QAAI6B,4BAA4B3B,uBAAuBqC,wBAAvB,CAAhC;;AAEA,aAASrC,sBAAT,CAAgCsC,GAAhC,EAAqC;AAAE,aAAOA,OAAOA,IAAI1C,UAAX,GAAwB0C,GAAxB,GAA8B,EAAErC,SAASqC,GAAX,EAArC;AAAwD;;AAE/FC,WAAO5C,OAAP,GAAiBA,QAAQ,SAAR,CAAjB","file":"index.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _symbol = require(\"babel-runtime/core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nexports.default = function (_ref) {\n  var t = _ref.types;\n\n  var VISITED = (0, _symbol2.default)();\n\n  return {\n    visitor: {\n      ExportDefaultDeclaration: function ExportDefaultDeclaration(path) {\n        if (!path.get(\"declaration\").isClassDeclaration()) return;\n\n        var node = path.node;\n\n        var ref = node.declaration.id || path.scope.generateUidIdentifier(\"class\");\n        node.declaration.id = ref;\n\n        path.replaceWith(node.declaration);\n        path.insertAfter(t.exportDefaultDeclaration(ref));\n      },\n      ClassDeclaration: function ClassDeclaration(path) {\n        var node = path.node;\n\n\n        var ref = node.id || path.scope.generateUidIdentifier(\"class\");\n\n        path.replaceWith(t.variableDeclaration(\"let\", [t.variableDeclarator(ref, t.toExpression(node))]));\n      },\n      ClassExpression: function ClassExpression(path, state) {\n        var node = path.node;\n\n        if (node[VISITED]) return;\n\n        var inferred = (0, _babelHelperFunctionName2.default)(path);\n        if (inferred && inferred !== node) return path.replaceWith(inferred);\n\n        node[VISITED] = true;\n\n        var Constructor = _vanilla2.default;\n        if (state.opts.loose) Constructor = _loose2.default;\n\n        path.replaceWith(new Constructor(path, state.file).run());\n      }\n    }\n  };\n};\n\nvar _loose = require(\"./loose\");\n\nvar _loose2 = _interopRequireDefault(_loose);\n\nvar _vanilla = require(\"./vanilla\");\n\nvar _vanilla2 = _interopRequireDefault(_vanilla);\n\nvar _babelHelperFunctionName = require(\"babel-helper-function-name\");\n\nvar _babelHelperFunctionName2 = _interopRequireDefault(_babelHelperFunctionName);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports[\"default\"];"]}