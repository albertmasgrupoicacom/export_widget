{"version":3,"sources":["oneRequired.js"],"names":["module","exports","defFunc","ajv","definition","type","macro","schema","length","required","schemas","map","prop","oneOf","metaSchema","items","addKeyword"],"mappings":"AAAA;;;;;;AAEAA,WAAOC,OAAP,GAAiB,SAASC,OAAT,CAAiBC,GAAjB,EAAsB;AACrCD,cAAQE,UAAR,GAAqB;AACnBC,cAAM,QADa;AAEnBC,eAAO,UAAUC,MAAV,EAAkB;AACvB,cAAIA,OAAOC,MAAP,IAAiB,CAArB,EAAwB,OAAO,IAAP;AACxB,cAAID,OAAOC,MAAP,IAAiB,CAArB,EAAwB,OAAO,EAACC,UAAUF,MAAX,EAAP;AACxB,cAAIG,UAAUH,OAAOI,GAAP,CAAW,UAAUC,IAAV,EAAgB;AACvC,mBAAO,EAACH,UAAU,CAACG,IAAD,CAAX,EAAP;AACD,WAFa,CAAd;AAGA,iBAAO,EAACC,OAAOH,OAAR,EAAP;AACD,SATkB;AAUnBI,oBAAY;AACVT,gBAAM,OADI;AAEVU,iBAAO;AACLV,kBAAM;AADD;AAFG;AAVO,OAArB;;AAkBAF,UAAIa,UAAJ,CAAe,aAAf,EAA8Bd,QAAQE,UAAtC;AACA,aAAOD,GAAP;AACD,KArBD","file":"oneRequired.js","sourcesContent":["'use strict';\n\nmodule.exports = function defFunc(ajv) {\n  defFunc.definition = {\n    type: 'object',\n    macro: function (schema) {\n      if (schema.length == 0) return true;\n      if (schema.length == 1) return {required: schema};\n      var schemas = schema.map(function (prop) {\n        return {required: [prop]};\n      });\n      return {oneOf: schemas};\n    },\n    metaSchema: {\n      type: 'array',\n      items: {\n        type: 'string'\n      }\n    }\n  };\n\n  ajv.addKeyword('oneRequired', defFunc.definition);\n  return ajv;\n};\n"]}