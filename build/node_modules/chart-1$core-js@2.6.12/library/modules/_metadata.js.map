{"version":3,"sources":["_metadata.js"],"names":["Map","require","$export","shared","store","getOrCreateMetadataMap","target","targetKey","create","targetMetadata","get","undefined","set","keyMetadata","ordinaryHasOwnMetadata","MetadataKey","O","P","metadataMap","has","ordinaryGetOwnMetadata","ordinaryDefineOwnMetadata","MetadataValue","ordinaryOwnMetadataKeys","keys","forEach","_","key","push","toMetaKey","it","String","exp","S","module","exports","map"],"mappings":";;;;AAAA,QAAIA,MAAMC,QAAQ,WAAR,CAAV;AACA,QAAIC,UAAUD,QAAQ,WAAR,CAAd;AACA,QAAIE,SAASF,QAAQ,WAAR,EAAqB,UAArB,CAAb;AACA,QAAIG,QAAQD,OAAOC,KAAP,KAAiBD,OAAOC,KAAP,GAAe,KAAKH,QAAQ,gBAAR,CAAL,GAAhC,CAAZ;;AAEA,QAAII,yBAAyB,UAAUC,MAAV,EAAkBC,SAAlB,EAA6BC,MAA7B,EAAqC;AAChE,UAAIC,iBAAiBL,MAAMM,GAAN,CAAUJ,MAAV,CAArB;AACA,UAAI,CAACG,cAAL,EAAqB;AACnB,YAAI,CAACD,MAAL,EAAa,OAAOG,SAAP;AACbP,cAAMQ,GAAN,CAAUN,MAAV,EAAkBG,iBAAiB,IAAIT,GAAJ,EAAnC;AACD;AACD,UAAIa,cAAcJ,eAAeC,GAAf,CAAmBH,SAAnB,CAAlB;AACA,UAAI,CAACM,WAAL,EAAkB;AAChB,YAAI,CAACL,MAAL,EAAa,OAAOG,SAAP;AACbF,uBAAeG,GAAf,CAAmBL,SAAnB,EAA8BM,cAAc,IAAIb,GAAJ,EAA5C;AACD,OAAC,OAAOa,WAAP;AACH,KAXD;AAYA,QAAIC,yBAAyB,UAAUC,WAAV,EAAuBC,CAAvB,EAA0BC,CAA1B,EAA6B;AACxD,UAAIC,cAAcb,uBAAuBW,CAAvB,EAA0BC,CAA1B,EAA6B,KAA7B,CAAlB;AACA,aAAOC,gBAAgBP,SAAhB,GAA4B,KAA5B,GAAoCO,YAAYC,GAAZ,CAAgBJ,WAAhB,CAA3C;AACD,KAHD;AAIA,QAAIK,yBAAyB,UAAUL,WAAV,EAAuBC,CAAvB,EAA0BC,CAA1B,EAA6B;AACxD,UAAIC,cAAcb,uBAAuBW,CAAvB,EAA0BC,CAA1B,EAA6B,KAA7B,CAAlB;AACA,aAAOC,gBAAgBP,SAAhB,GAA4BA,SAA5B,GAAwCO,YAAYR,GAAZ,CAAgBK,WAAhB,CAA/C;AACD,KAHD;AAIA,QAAIM,4BAA4B,UAAUN,WAAV,EAAuBO,aAAvB,EAAsCN,CAAtC,EAAyCC,CAAzC,EAA4C;AAC1EZ,6BAAuBW,CAAvB,EAA0BC,CAA1B,EAA6B,IAA7B,EAAmCL,GAAnC,CAAuCG,WAAvC,EAAoDO,aAApD;AACD,KAFD;AAGA,QAAIC,0BAA0B,UAAUjB,MAAV,EAAkBC,SAAlB,EAA6B;AACzD,UAAIW,cAAcb,uBAAuBC,MAAvB,EAA+BC,SAA/B,EAA0C,KAA1C,CAAlB;AACA,UAAIiB,OAAO,EAAX;AACA,UAAIN,WAAJ,EAAiBA,YAAYO,OAAZ,CAAoB,UAAUC,CAAV,EAAaC,GAAb,EAAkB;AAAEH,aAAKI,IAAL,CAAUD,GAAV;AAAiB,OAAzD;AACjB,aAAOH,IAAP;AACD,KALD;AAMA,QAAIK,YAAY,UAAUC,EAAV,EAAc;AAC5B,aAAOA,OAAOnB,SAAP,IAAoB,OAAOmB,EAAP,IAAa,QAAjC,GAA4CA,EAA5C,GAAiDC,OAAOD,EAAP,CAAxD;AACD,KAFD;AAGA,QAAIE,MAAM,UAAUhB,CAAV,EAAa;AACrBd,cAAQA,QAAQ+B,CAAhB,EAAmB,SAAnB,EAA8BjB,CAA9B;AACD,KAFD;;AAIAkB,WAAOC,OAAP,GAAiB;AACf/B,aAAOA,KADQ;AAEfgC,WAAK/B,sBAFU;AAGfc,WAAKL,sBAHU;AAIfJ,WAAKU,sBAJU;AAKfR,WAAKS,yBALU;AAMfG,YAAMD,uBANS;AAOfI,WAAKE,SAPU;AAQfG,WAAKA;AARU,KAAjB","file":"_metadata.js","sourcesContent":["var Map = require('./es6.map');\nvar $export = require('./_export');\nvar shared = require('./_shared')('metadata');\nvar store = shared.store || (shared.store = new (require('./es6.weak-map'))());\n\nvar getOrCreateMetadataMap = function (target, targetKey, create) {\n  var targetMetadata = store.get(target);\n  if (!targetMetadata) {\n    if (!create) return undefined;\n    store.set(target, targetMetadata = new Map());\n  }\n  var keyMetadata = targetMetadata.get(targetKey);\n  if (!keyMetadata) {\n    if (!create) return undefined;\n    targetMetadata.set(targetKey, keyMetadata = new Map());\n  } return keyMetadata;\n};\nvar ordinaryHasOwnMetadata = function (MetadataKey, O, P) {\n  var metadataMap = getOrCreateMetadataMap(O, P, false);\n  return metadataMap === undefined ? false : metadataMap.has(MetadataKey);\n};\nvar ordinaryGetOwnMetadata = function (MetadataKey, O, P) {\n  var metadataMap = getOrCreateMetadataMap(O, P, false);\n  return metadataMap === undefined ? undefined : metadataMap.get(MetadataKey);\n};\nvar ordinaryDefineOwnMetadata = function (MetadataKey, MetadataValue, O, P) {\n  getOrCreateMetadataMap(O, P, true).set(MetadataKey, MetadataValue);\n};\nvar ordinaryOwnMetadataKeys = function (target, targetKey) {\n  var metadataMap = getOrCreateMetadataMap(target, targetKey, false);\n  var keys = [];\n  if (metadataMap) metadataMap.forEach(function (_, key) { keys.push(key); });\n  return keys;\n};\nvar toMetaKey = function (it) {\n  return it === undefined || typeof it == 'symbol' ? it : String(it);\n};\nvar exp = function (O) {\n  $export($export.S, 'Reflect', O);\n};\n\nmodule.exports = {\n  store: store,\n  map: getOrCreateMetadataMap,\n  has: ordinaryHasOwnMetadata,\n  get: ordinaryGetOwnMetadata,\n  set: ordinaryDefineOwnMetadata,\n  keys: ordinaryOwnMetadataKeys,\n  key: toMetaKey,\n  exp: exp\n};\n"]}